<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../../index.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"          
                xmlns:f="http://xmlns.jcp.org/jsf/core"                    
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"                
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">
    <ui:define name="page_content">
        <script>
            $(document).ready(function() {
                var estados = [
                    {
                        value: #{graficosIndex.accionesPendientes},
                        color:"red",
                        highlight: "#FF5A5E",
                        label: "Pendientes"
                    },
                    {
                        value: #{graficosIndex.accionesDesestimadas},
                        color: "#000000",
                        highlight: "#9AC949",
                        label: "Desestimadas"
                    },                
                    {
                        value: #{graficosIndex.accionesProcesoImp},
                        color: "#ff9900",
                        highlight: "#9AC949",
                        label: "En Proceso Implementacion"
                    },                   
                    {
                        value: #{graficosIndex.accionesProcesoVerif},
                        color: "yellow",
                        highlight: "#9AC949",
                        label: "En Proceso Verficacion"
                    },                  
                    {
                        value: #{graficosIndex.accionesCerradas},
                        color: "green",
                        highlight: "#9AC949",
                        label: "Cerradas"
                    }                    
                ];
                
                var opciones = {
                    animationSteps : 200,
                    //<![CDATA[
                    legendTemplate:"<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>" 
                    ////]]>              
                };
                try{
                    // Get context with jQuery - using jQuery's .get() method.
                    var ctx = $("#chartestado").get(0).getContext("2d");
                    //var ctx2 = $("#myChartVenc").get(0).getContext("2d");
                    // This will get the first returned node in the jQuery collection.
                    var chartEstados = new Chart(ctx).Pie(estados, opciones);
                }catch(ex){}                
            });
        </script>
        <div class="container-fluid" style="padding: 1%">
            <h:form id="form_graficos_index">
                <fieldset><legend>Estado de Acciones</legend>
                    <div class="contenedor-5050">
                        <canvas id="chartestado" width="300" height="200" ></canvas>                               
                    </div>
                </fieldset>
            </h:form>
        </div>
    </ui:define>
</ui:composition>


